webpackJsonp([0],{0:function(e,exports,t){t(1),e.exports=t(298)},298:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=t(299),o=n(r),a=t(302),u=n(a),i=t(372),l=n(i),s=t(391),c=n(s),f=t(587),d=n(f),p=t(591),v=(n(p),t(592)),g=n(v),h=t(594),m=n(h);t(596),t(598),o.default.module("app",[u.default,l.default,c.default,g.default,m.default]).config(["$locationProvider","$compileProvider",function(e,t){"ngInject";e.html5Mode(!0).hashPrefix("!")}]).component("app",d.default)},372:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),o=n(r),a=t(373),u=n(a),i=t(382),l=n(i),s=t(388),c=n(s),f=t(390),d=n(f);window.$=d.default;var p=o.default.module("app.common",[u.default,l.default,c.default]).name;exports.default=p},373:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),o=n(r),a=t(302),u=n(a),i=t(374),l=n(i),s=o.default.module("navbar",[u.default]).component("navbar",l.default).name;exports.default=s},374:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(375),o=n(r),a=t(376),u=n(a);t(378);var i={restrict:"E",bindings:{},template:o.default,controller:u.default};exports.default=i},375:function(e,exports){e.exports='<nav class="navbar">\r\n  <div class="logo">\r\n    <span>KNN-test</span>\r\n  </div>\r\n</nav>\r\n'},376:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(377),o=n(r),a=function e(){(0,o.default)(this,e),this.name="navbar"};exports.default=a},378:function(e,exports,t){var n=t(379);"string"==typeof n&&(n=[[e.id,n,""]]);t(381)(n,{});n.locals&&(e.exports=n.locals)},379:function(e,exports,t){exports=e.exports=t(380)(),exports.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{height:100%;font:62.5% Roboto,sans-serif;background-color:#37474f!important}.navbar{height:54px;background-color:#0277bd}.navbar .logo,.navbar .nav-links{color:#f5f5f5;padding:18px;font-weight:700;font-size:16px}.navbar .logo{color:#f5f5f5;margin-right:50%}.navbar .nav-links span{color:#f5f5f5;font-size:1.6rem}",""])},382:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),o=n(r),a=t(302),u=n(a),i=t(383),l=n(i),s=o.default.module("hero",[u.default]).component("hero",l.default).name;exports.default=s},383:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(384),o=n(r),a=t(385),u=n(a);t(386);var i={restrict:"E",bindings:{},template:o.default,controller:u.default};exports.default=i},384:function(e,exports){e.exports='<section class="hero"></section>\r\n'},385:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(377),o=n(r),a=function e(){(0,o.default)(this,e),this.name="hero"};exports.default=a},386:function(e,exports,t){var n=t(387);"string"==typeof n&&(n=[[e.id,n,""]]);t(381)(n,{});n.locals&&(e.exports=n.locals)},387:function(e,exports,t){exports=e.exports=t(380)(),exports.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{height:100%;font:62.5% Roboto,sans-serif;background-color:#37474f!important}.hero{background-color:#263238;height:20px}.hero *{color:#f5f5f5}",""])},388:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),o=n(r),a=t(389),u=n(a),i=o.default.module("user",[]).factory("User",u.default).name;exports.default=i},389:function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){var e={},t=function(){return e},n=function(){return e.isSignedIn};return{getUser:t,isSignedIn:n}};exports.default=t},391:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),o=n(r),a=t(392),u=n(a),i=t(399),l=n(i),s=t(405),c=n(s),f=t(569),d=n(f),p=o.default.module("app.components",[u.default,l.default,c.default,d.default]).name;exports.default=p},392:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),o=n(r),a=t(302),u=n(a),i=t(393),l=n(i),s=t(398),c=n(s),f=o.default.module("home",[u.default,c.default]).config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";e.state("home",{url:"/knn/",component:"home"})}]).component("home",l.default).name;exports.default=f},393:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(394),o=n(r),a=t(395),u=n(a);t(396);var i={restrict:"E",bindings:{},template:o.default,controller:u.default};exports.default=i},394:function(e,exports){e.exports='<navbar></navbar>\r\n<header>\r\n  <hero></hero>\r\n</header>\r\n<div class="row">\r\n  <div class="col-xs-3">\r\n    <testing></testing>\r\n  </div>\r\n  <div class="col-xs-9">\r\n    <viewer></viewer>\r\n  </div>\r\n</div>'},395:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(377),o=n(r),a=function e(){"ngInject";(0,o.default)(this,e)};exports.default=a},396:function(e,exports,t){var n=t(397);"string"==typeof n&&(n=[[e.id,n,""]]);t(381)(n,{});n.locals&&(e.exports=n.locals)},397:function(e,exports,t){exports=e.exports=t(380)(),exports.push([e.id,".home{color:red}.homeScrollbarWrapper{color:#000;margin:30px;height:10vh}",""])},398:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e={td:[],qd:[],preparedTD:[],preparedQD:[],neighbors:{}};return e}Object.defineProperty(exports,"__esModule",{value:!0});var o=t(299),a=n(o),u=a.default.module("StorageService",[]).factory("StorageService",r).name;exports.default=u},399:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),o=n(r),a=t(302),u=n(a),i=t(400),l=n(i),s=o.default.module("about",[u.default]).config(["$stateProvider",function(e){"ngInject";e.state("about",{url:"/about",component:"about"})}]).component("about",l.default).name;exports.default=s},400:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(401),o=n(r),a=t(402),u=n(a);t(403);var i={restrict:"E",bindings:{},template:o.default,controller:u.default};exports.default=i},401:function(e,exports){e.exports="<navbar></navbar>\r\n<h1>{{ $ctrl.name }}</h1>\r\n<section>\r\n  About us.\r\n</section>\r\n"},402:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(377),o=n(r),a=function e(){(0,o.default)(this,e),this.name="about"};exports.default=a},403:function(e,exports,t){var n=t(404);"string"==typeof n&&(n=[[e.id,n,""]]);t(381)(n,{});n.locals&&(e.exports=n.locals)},404:function(e,exports,t){exports=e.exports=t(380)(),exports.push([e.id,".about{color:red}",""])},405:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),o=n(r),a=t(406),u=n(a),i=t(408),l=n(i),s=t(398),c=n(s),f=t(410),d=n(f),p=t(523),v=n(p),g=t(560),h=n(g),m=o.default.module("testing",[u.default,l.default,c.default,d.default,v.default]).component("testing",h.default).name;exports.default=m},410:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){"ngInject";function r(e,t,n,r){function o(){var t=(0,a.default)(e),n=t.length,r=0;setTimeout(function(){u(t,r,n)},0)}function u(o,a,i){for(var l=new Date;Number(new Date-Number(l)<r)&&e.hasOwnProperty([o[a]]);)t.apply(this,[e[o[a]],o[a]]),a++;a<i?setTimeout(function(){u(o,a,i)},0):a>=i&&n.apply(this,[e])}r=r||1,e?(0,a.default)(e).length?o():console.error(e," is empty"):console.error("First parameter must be an array or object.")}function o(){var e=n.defer(),r=void 0;return r=window.location.href.split("github").length>1?"../knn/dist/testData.txt":"./testData.txt",t({method:"GET",url:r}).then(function(t){e.resolve(t)},function(t){console.log("failure: ",t),console.log("generating test data"),i().then(function(t){e.resolve(t)})}),e.promise}function u(){var e=n.defer(),r=void 0;return r=window.location.href.split("github").length>1?"../knn/dist/queryData.txt":"./queryData.txt",t({method:"GET",url:r}).then(function(t){e.resolve(t)},function(t){console.log("failure: ",t),console.log("generating query data"),i().then(function(t){e.resolve(t)})}),e.promise}function i(){var e=n.defer(),t=[],o=Array(2e4).fill(1);return r(o,function(e){var n=Math.ceil(-70),r=Math.floor(40),o=Math.ceil(-60),a=Math.floor(60),u=Math.random()*(r-n)+n,i=Math.random()*(a-o)+o;t.push([u,i])},function(){console.log("done generating"),e.resolve({data:t})}),e.promise}var l={getTestData:o,getQueryData:u,generateData:i,asyncEach:r};return l}r.$inject=["StorageService","$http","$q"],Object.defineProperty(exports,"__esModule",{value:!0});var o=t(411),a=n(o),u=t(299),i=n(u),l=t(446),s=(n(l),t(520)),c=(n(s),i.default.module("DataService",[]).factory("DataService",r).name);exports.default=c},523:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r){"ngInject";function o(){var r=e.defer(),o=[];return o.push(n.getTestData()),o.push(n.getQueryData()),e.all(o).then(function(e){t.td=e[0].data,t.qd=e[1].data,r.resolve(),u()}),r.promise}function u(){var n=(e.defer(),[]);n.push(l(t.td,t.preparedTD)),n.push(l(t.qd,t.preparedQD)),e.all(n).then(function(){console.log("Processed: ",t.preparedTD," test locations"),console.log("Processed: ",t.preparedQD," query locations"),s().then(function(){console.log("StorageService.neighbors: ",t.neighbors)})})}function l(t,r){for(var o=e.defer(),a=Math.ceil(t.length/5e4),u=0,i=function(){var e=new Worker("./prepare.worker.js"),i=new Float32Array(t.splice(0,5e4)).buffer;e.postMessage(i,[i]),e.onmessage=function(t){var i=t.data;n.asyncEach(i,function(e){r.push(e)},function(){u++,e.terminate(),u===a&&o.resolve()},100)}};t.length;)i();return o.promise}function s(){function r(){var e=new Worker("./neighbors.worker.js");e.postMessage({testData:t.preparedTD,queryData:t.preparedQD.splice(0,5e4)}),e.onmessage=function(s){var c={},f={};n.asyncEach(s.data,function(e,t){var n=new Float32Array(e);for(c[t]=[].concat((0,a.default)(n)),f[t]=[];c[t].length;)f[t].push(c[t].splice(0,2))},function(n){i.default.merge(t.neighbors,f),l++,e.terminate(),l===u?o.resolve():r()},1)}}console.log("starting findNeighbors");var o=e.defer(),u=Math.ceil(t.preparedQD.length/5e4),l=0;return t.preparedQD.length?r():o.resolve(),o.promise}var c={iterateTestData:u,prepareData:l,findNeighbors:s,getData:o};return c}r.$inject=["$q","StorageService","DataService","ViewerService"],Object.defineProperty(exports,"__esModule",{value:!0});var o=t(524),a=n(o),u=t(299),i=n(u),l=t(547),s=(n(l),t(551)),c=(n(s),t(553)),f=(n(c),t(458)),d=(n(f),t(555)),p=(n(d),i.default.module("TestingService",[]).factory("TestingService",r).name);exports.default=p},560:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(561),o=n(r),a=t(562),u=n(a);t(567);var i={restrict:"E",bindings:{},template:o.default,controller:u.default};exports.default=i},561:function(e,exports){e.exports='<div style="color:white">\r\n    <div align="center">\r\n        <button class="btn btn-default" ng-click="$ctrl.getData()">Generate Data</button>\r\n    </div>\r\n</div>'},562:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(377),o=n(r),a=t(563),u=n(a),i=function(){function e(t,n){"ngInject";(0,o.default)(this,e),this.TestingService=t,this.$q=n}return e.$inject=["TestingService","$q"],(0,u.default)(e,[{key:"getData",value:function(){this.TestingService.getData()}}]),e}();exports.default=i},567:function(e,exports,t){var n=t(568);"string"==typeof n&&(n=[[e.id,n,""]]);t(381)(n,{});n.locals&&(e.exports=n.locals)},568:function(e,exports,t){exports=e.exports=t(380)(),exports.push([e.id,"",""])},569:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(299),o=n(r),a=t(406),u=n(a),i=t(408),l=n(i),s=t(398),c=n(s),f=t(410),d=(n(f),t(570)),p=n(d),v=t(586),g=n(v),h=o.default.module("viewer",[u.default,l.default,c.default,g.default]).component("viewer",p.default).name;exports.default=h},570:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(571),o=n(r),a=t(572),u=n(a);t(573),t(574),t(579),t(580),t(582),t(584);var i={restrict:"E",bindings:{},template:o.default,controller:u.default};exports.default=i},571:function(e,exports){e.exports='<div id="map" alt="Viewer"></div>'},572:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(377),o=n(r),a=function e(t){"ngInject";(0,o.default)(this,e),L.control.layers(t.baseMaps).addTo(t.map)};a.$inject=["ViewerService"],exports.default=a},584:function(e,exports,t){var n=t(585);"string"==typeof n&&(n=[[e.id,n,""]]);t(381)(n,{});n.locals&&(e.exports=n.locals)},585:function(e,exports,t){exports=e.exports=t(380)(),exports.push([e.id,"#map{height:80vh}.queryIcon{background-color:red}",""])},586:function(e,exports){"use strict";function t(){"ngInject";function e(e){console.log("adding to map");var t=[],r=L.markerClusterGroup({chunkedLoading:!0,zoomToBoundsOnClick:!1});for(var o in e){var a=o.split(":"),u=L.marker(L.latLng(a[0],a[1]),{icon:L.divIcon({className:"queryIcon"})});t.push(u),e[o].forEach(function(e){var n=L.marker(L.latLng(e[0],e[1]));t.push(n)})}r.addLayers(t),n.map.addLayer(r)}var t=L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),n={map:L.map("map",{center:[39.73,-104.99],zoom:10,layers:[t]}),baseMaps:{Base:t},populateMap:e};return n}Object.defineProperty(exports,"__esModule",{value:!0});var n=angular.module("ViewerService",[]).factory("ViewerService",t).name;exports.default=n},587:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var r=t(588),o=n(r);t(589);var a={template:o.default,restrict:"E"};exports.default=a},588:function(e,exports){e.exports='<!-- Place all UI elements intended to be present across all routes in this file -->\r\n<div class="app">\r\n  <div ui-view></div>\r\n</div>\r\n'},589:function(e,exports,t){var n=t(590);"string"==typeof n&&(n=[[e.id,n,""]]);t(381)(n,{});n.locals&&(e.exports=n.locals)},590:function(e,exports,t){exports=e.exports=t(380)(),exports.push([e.id,"@import url(http://fonts.googleapis.com/css?family=Roboto);",""]),exports.push([e.id,"body{height:100%;font:62.5% Roboto,sans-serif;background-color:#37474f!important}.app{background-color:#37474f;font-size:16px}",""])}});
//# sourceMappingURL=app.bundle.js.map